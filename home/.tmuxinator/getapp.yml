# ~/.tmuxinator/getapp.yml

name: getapp
root: ~/Projects/getapp
pre: vagrant up; [ -f .vagrant-ssh.local ] || (vagrant ssh-config --host default> .vagrant-ssh.local)

windows:
  - editor:
      layout: a7fc,178x48,0,0{115x48,0,0,0,62x48,116,0,2}
      panes:
        - vim
        - shell:
            - ssh -F .vagrant-ssh.local default
            - cd /vagrant

  - local_servers:
      layout: tiled
      panes:
        - frontend_services:
            - ssh -F .vagrant-ssh.local default
            - cd /vagrant
            - foreman start -f Procfile.dev.frontend
        - backend_services:
            - ssh -F .vagrant-ssh.local default
            - cd /vagrant
            - foreman start -f Procfile.dev.backend
        - server:
            - ssh -F .vagrant-ssh.local default
            - cd /vagrant
            - DEBUG_SQL=true thin -p 9292 start
        - shell:
            - ssh -F .vagrant-ssh.local default
            - cd /vagrant
